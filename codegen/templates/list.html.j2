<!-- {{ entity.name }} List Template -->
<div class="list-header">
    <h4>{{ entity.name }} List</h4>
    <button class="btn btn-primary" onclick="showCreateForm('{{ entity.name.lower() }}')">
        Add {{ entity.name }}
    </button>
</div>

<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>ID</th>
                {% for field_name, field_type in entity.fields.items() %}
                {% if field_name != 'id' %}
                <th>{{ field_name.title() }}</th>
                {% endif %}
                {% endfor %}
                <th>Created</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="{{ entity.name.lower() }}-table-body">
            <!-- Data will be populated by JavaScript -->
        </tbody>
    </table>
</div>

<script>
function render{{ entity.name }}List({{ entity.name.lower() }}s) {
    const tbody = document.getElementById('{{ entity.name.lower() }}-table-body');
    tbody.innerHTML = '';

    {{ entity.name.lower() }}s.forEach({{ entity.name.lower() }} => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${{{ entity.name.lower() }}.id}</td>
            {% for field_name, field_type in entity.fields.items() %}
            {% if field_name != 'id' %}
            <td>${{{ entity.name.lower() }}.{{ field_name }}}</td>
            {% endif %}
            {% endfor %}
            <td>${new Date({{ entity.name.lower() }}.created_at).toLocaleDateString()}</td>
            <td>
                <button class="btn btn-sm btn-secondary" onclick="edit{{ entity.name }}(${{{ entity.name.lower() }}.id})">
                    Edit
                </button>
                <button class="btn btn-sm btn-danger" onclick="delete{{ entity.name }}(${{{ entity.name.lower() }}.id})">
                    Delete
                </button>
            </td>
        `;
        tbody.appendChild(row);
    });
}
</script>