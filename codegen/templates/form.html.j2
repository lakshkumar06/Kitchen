<!-- {{ entity.name }} Form Template -->
<div class="form-header">
    <h4 id="{{ entity.name.lower() }}-form-title">Add New {{ entity.name }}</h4>
    <button class="btn btn-secondary" onclick="hideForm('{{ entity.name.lower() }}')">
        Cancel
    </button>
</div>

<form id="{{ entity.name.lower() }}-form" onsubmit="save{{ entity.name }}(event)">
    <input type="hidden" id="{{ entity.name.lower() }}-id" name="id">

    {% for field_name, field_type in entity.fields.items() %}
    {% if field_name != 'id' %}
    <div class="form-group">
        <label for="{{ entity.name.lower() }}-{{ field_name }}">{{ field_name.title() }}</label>
        {% if field_type == 'str' or field_type == 'string' %}
        <input type="text" id="{{ entity.name.lower() }}-{{ field_name }}" name="{{ field_name }}" required>
        {% elif field_type == 'int' or field_type == 'integer' %}
        <input type="number" id="{{ entity.name.lower() }}-{{ field_name }}" name="{{ field_name }}" required>
        {% elif field_type == 'bool' or field_type == 'boolean' %}
        <input type="checkbox" id="{{ entity.name.lower() }}-{{ field_name }}" name="{{ field_name }}">
        {% elif field_type == 'text' %}
        <textarea id="{{ entity.name.lower() }}-{{ field_name }}" name="{{ field_name }}" rows="4" required></textarea>
        {% else %}
        <input type="text" id="{{ entity.name.lower() }}-{{ field_name }}" name="{{ field_name }}" required>
        {% endif %}
    </div>
    {% endif %}
    {% endfor %}

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Save {{ entity.name }}</button>
        <button type="button" class="btn btn-secondary" onclick="hideForm('{{ entity.name.lower() }}')">
            Cancel
        </button>
    </div>
</form>

<script>
function show{{ entity.name }}CreateForm() {
    document.getElementById('{{ entity.name.lower() }}-form-title').textContent = 'Add New {{ entity.name }}';
    document.getElementById('{{ entity.name.lower() }}-form').reset();
    document.getElementById('{{ entity.name.lower() }}-id').value = '';
    document.getElementById('{{ entity.name.lower() }}-form').style.display = 'block';
}

function show{{ entity.name }}EditForm({{ entity.name.lower() }}) {
    document.getElementById('{{ entity.name.lower() }}-form-title').textContent = 'Edit {{ entity.name }}';
    document.getElementById('{{ entity.name.lower() }}-id').value = {{ entity.name.lower() }}.id;

    {% for field_name, field_type in entity.fields.items() %}
    {% if field_name != 'id' %}
    {% if field_type == 'bool' or field_type == 'boolean' %}
    document.getElementById('{{ entity.name.lower() }}-{{ field_name }}').checked = {{ entity.name.lower() }}.{{ field_name }};
    {% else %}
    document.getElementById('{{ entity.name.lower() }}-{{ field_name }}').value = {{ entity.name.lower() }}.{{ field_name }};
    {% endif %}
    {% endif %}
    {% endfor %}

    document.getElementById('{{ entity.name.lower() }}-form').style.display = 'block';
}
</script>